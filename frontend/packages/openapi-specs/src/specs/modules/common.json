{
  "openapi": "3.0.0",
  "info": {
    "title": "VolcAIOpsKit - Common Schemas",
    "version": "1.0.0",
    "description": "通用 Schema 定义"
  },
  "paths": {},
  "components": {
    "schemas": {
      "APIResponse": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer"
          },
          "message": {
            "type": "string"
          },
          "data": {}
        }
      },
      "APIResponseBoolean": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "type": "boolean"
          }
        }
      },
      "APIResponseString": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "type": "string"
          }
        }
      },
      "APIResponseStringList": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "ChannelType": {
        "type": "string",
        "enum": ["Lark", "DingTalk", "WeChat", "Webhook"],
        "description": "Channel type enumeration for different messaging platforms"
      },
      "ImportLog": {
        "type": "object",
        "properties": {
          "timestamp": {
            "type": "string",
            "description": "日志时间戳"
          },
          "level": {
            "type": "string",
            "enum": ["INFO", "WARNING", "ERROR"],
            "description": "日志级别"
          },
          "message": {
            "type": "string",
            "description": "日志消息"
          },
          "details": {
            "type": "object",
            "description": "详细信息",
            "additionalProperties": true
          }
        },
        "required": ["timestamp", "level", "message"]
      },
      "ImportResult": {
        "type": "object",
        "properties": {
          "total_rows": {
            "type": "integer",
            "description": "总行数"
          },
          "successful_imports": {
            "type": "integer",
            "description": "成功导入数量"
          },
          "failed_imports": {
            "type": "integer",
            "description": "失败导入数量"
          },
          "skipped_rows": {
            "type": "integer",
            "description": "跳过行数"
          },
          "errors": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "错误信息列表"
          },
          "logs": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ImportLog"
            },
            "description": "导入日志列表"
          },
          "start_time": {
            "type": "string",
            "description": "开始时间"
          },
          "end_time": {
            "type": "string",
            "nullable": true,
            "description": "结束时间"
          }
        },
        "required": [
          "total_rows",
          "successful_imports",
          "failed_imports",
          "skipped_rows",
          "errors",
          "logs",
          "start_time"
        ]
      },
      "APIResponseImportResult": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "$ref": "#/components/schemas/ImportResult"
          }
        }
      },
      "PaginationMeta": {
        "type": "object",
        "properties": {
          "limit": {
            "type": "integer",
            "description": "每页数量"
          },
          "skip": {
            "type": "integer",
            "description": "跳过数量"
          },
          "total": {
            "type": "integer",
            "description": "总数量"
          },
          "page": {
            "type": "integer",
            "description": "当前页码"
          },
          "pages": {
            "type": "integer",
            "description": "总页数"
          }
        },
        "required": ["limit", "skip", "total"]
      },
      "ErrorDetail": {
        "type": "object",
        "properties": {
          "field": {
            "type": "string",
            "description": "错误字段"
          },
          "message": {
            "type": "string",
            "description": "错误消息"
          },
          "code": {
            "type": "string",
            "description": "错误代码"
          }
        },
        "required": ["message"]
      },
      "ValidationError": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "default": 400
          },
          "message": {
            "type": "string",
            "default": "Validation Error"
          },
          "errors": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ErrorDetail"
            },
            "description": "详细错误列表"
          }
        }
      }
    },
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  }
}
